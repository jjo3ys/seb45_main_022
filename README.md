<div align='center'>
<h1> 🍀 Stat & Us 🍀 </h1>

![제목을-입력해주세요_-006](https://github.com/codestates-seb/seb45_main_022/assets/85780501/25caf1dd-a7a0-4506-bc9c-7b25b47466d2)

<h3> ⚔️ Stat & Us는 픽셀 컨셉의 SNS 식 커뮤니티이며,<br>
동시에 스탯을 키워나가는 재미가 있는 성장형 메인 프로젝트입니다.</h3>

<br>

⚔️ http://statandus.s3-website.ap-northeast-2.amazonaws.com/ ⚔️

</div>

<br>


## 🗡 Contributors


|                                    <img src="https://img.shields.io/badge/FE_Leader-purple" />                                    |                                     <img src="https://img.shields.io/badge/BE_Leader-aqua" />                                     |                                       <img src="https://img.shields.io/badge/FE-AD0260" />                                       |                                       <img src="https://img.shields.io/badge/FE-850119" />                                       |                                       <img src="https://img.shields.io/badge/BE-4C516F" />                                       |                                      <img src="https://img.shields.io/badge/BE-FCD169" />                                       |
| :-------------------------------------------------------------------------------------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------: | :-----------------------------------------------------------------------------------------------------------------------------: |
| <img src="https://github.com/codestates-seb/seb45_main_022/assets/85780501/c48a3801-8f87-490f-9dd8-15e42b0cd178" width="120px;" /> | <img src="https://github.com/codestates-seb/seb45_main_022/assets/85780501/98e37829-38b2-428c-8735-5f7e486bff93" width="120px;" /> | <img src="https://github.com/codestates-seb/seb45_main_022/assets/85780501/02d690f5-5f73-4b40-a89c-16d2a09420e7" width="120px;"/> | <img src="https://github.com/codestates-seb/seb45_main_022/assets/85780501/09d21e8a-e733-4e07-8290-e49817f3f2ce" width="120px" /> | <img src="https://github.com/codestates-seb/seb45_main_022/assets/85780501/696a48fc-696e-402c-8be8-99f0771a81fd" width="120px" /> | <img src="https://github.com/codestates-seb/seb45_main_022/assets/85780501/a28ebd6a-bee4-4ebb-939b-8d0a1d86b6d2" width="120px"/> |
|                                               [강성일](https://github.com/widrns15)                                               |                                             [한도석](https://github.com/Island-Fever)                                             |                                               [이지원](https://github.com/qazx960)                                               |                                              [김동훈](https://github.com/donghun-k)                                              |                                             [이강석](https://github.com/kangsuck)                                             |                                              [조연성](https://github.com/jjo3ys)                                               |

<br>


## 🛠️ Technical Skills

<img src="https://img.shields.io/badge/-Java-05122A?style=flat&logo=java"/>
<img src="https://img.shields.io/badge/-Springboot-05122A?style=flat&logo=Springboot"/>
<img src="https://img.shields.io/badge/-Docker-05122A?style=flat&logo=Docker"/>
<img src="https://img.shields.io/badge/-aws-05122A?style=flat&logo=amazonaws"/>

<br>
<img src="https://img.shields.io/badge/-redis-05122A?style=flat&logo=redis"/>
<img src="https://img.shields.io/badge/-mysql-05122A?style=flat&logo=mysql"/>
<img src="https://img.shields.io/badge/-querydsl-05122A?style=flat&logo=mysql"/>
<br>

## 🌊 Git Flow

![06](https://github.com/codestates-seb/seb45_main_022/assets/85780501/5f7e3f9d-3906-4b26-bf53-dd9b05744314)

#### 🗡️ Git Flow 브랜치 구조
⮑  feature > develop > release > hotfix > main(master)
- main : 제품의 안정적인 버전을 나타내며 프로덕션 환경에서 사용되는 브랜치
- develop : 개발 중인 모든 기능이 통합되어 테스트되며, 문제가 발견되면 수정하는 중앙 브랜치
- feature : 새로운 기능 또는 기능 개선을 개발하며, develop 브랜치로 병합되는 브랜치
- release : develop 브랜치의 코드 중 릴리스에 포함될 기능을 선택하고 버그 수정을 수행하며, main 브랜치로 병합하는 브랜치
- hotfix : 프로덕션 환경에서 발견된 심각한 버그를 수정하기 위해 사용하며, main 브랜치와 develop 브랜치로 병합하는 브랜치

<br>

## 📲 Collaboration Tool

> ### ⚔️ 1. Discord

<img width="1392" alt="스크린샷 2023-09-21 오후 9 54 37" src="https://github.com/codestates-seb/seb45_main_022/assets/85780501/3d258eb3-c83b-4964-b255-3bc08bf36a2a">

<img width="1392" alt="스크린샷 2023-09-21 오후 9 59 19" src="https://github.com/codestates-seb/seb45_main_022/assets/85780501/d752d085-ea8f-47a0-b2a6-ea90739034b8">

- 디스코드에서 주 5~6회 아침 회의 (09:00 ~ 10:00)에 현재까지의 프로젝트 진행 상황과 오늘의 TODO를 브리핑하고,<br>
  FE BE 채널에 모든 인원이 항시 대기하여 즉각적인 피드백과 문제해결이 가능했습니다. 
- 프로젝트를 진행하면서, 공유하고 싶은 문서나 코드는 따로 정보공유 방에서 공유하며 서로 토론을 했습니다.

<br>
<br>


> ### ⚔️ 2. 노션(Notion)

<img width="1432" alt="스크린샷 2023-09-21 오후 10 52 38" src="https://github.com/codestates-seb/seb45_main_022/assets/85780501/c93dbbda-4cfa-45e8-ad0f-1141cade2fbb">


- 노션으로 개발자 테스트 체크리스트, 사용자 요구사항 정의서,<br>ErrorCode List 와 같은 공동 문서를 작성했고, API 사양서를 공유하였습니다.



## ✨ [서비스 메뉴얼](https://github.com/codestates-seb/seb45_main_022/files/12685723/Code.Status.2.pdf)

|1. 로그인 & 회원가입 페이지|2. 출석 보상 페이지|
|---|---|
|![Code Status (4)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/603a38d6-7ceb-4a08-ba95-b0fcb6dbfd72)|![Code Status (5)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/73c70207-3a98-4ddb-a700-6e32f1e5aced)|

|3. 메인 페이지|
|---|
|![Code Status (6)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/70a50752-2202-49a6-84f8-bd6bd2ce7d17)|

|4-1. 마이 페이지|4-2. 마이 페이지|4-3. 마이 페이지|
|---|---|---|
|![Code Status (7)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/558ae899-75ed-4aab-8601-3773662d480c)|![Code Status (8)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/03a9c92b-3146-41fe-a831-db32d220b960)|![Code Status (9)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/c169f30f-493f-4270-9117-0fa9aa58db30)|

|5. 스탯 페이지|6. 맵페이지|
|---|---|
|![Code Status (11)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/19df5a8e-4eea-40e4-86f0-e329848a1fc8)|![Code Status (12)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/477e9fd2-20f9-4429-87e8-baf14e3f2727)|

|7. 피드 페이지|
|---|
|![Code Status (14)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/d25a21bb-4f15-4ce5-97fe-9c4850d469c6)|

|8. 피드 상세 페이지|9. 피드 검색 페이지|
|---|---|
|![Code Status (14)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/b1082ab4-4101-4eaf-9a5f-c6b46de95bcd)|![Code Status (17)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/724c206f-5cc0-477d-9be4-8a49820fb7ee)|

|10. 404 에러 페이지|
|---|
|![Code Status 팀장 발표 (7)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/379aba55-f24e-41bb-abb8-de6a9a3cb8a3)|

<br>


## ✨ 기능 시연 영상

|1. 로그인 & 회원가입 페이지|2. 메인 페이지|
|---|---|
|![ezgif com-video-to-gif (16)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/8a44a888-f444-48f7-91d7-e8dd36a6c948)|![ezgif com-video-to-gif (12)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/321e234f-9a65-495b-af87-992a4846edc0)|

|3. 스탯 & 맵 페이지|4. 피드 페이지|
|---|---|
|![ezgif com-video-to-gif (17)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/439301d4-3d2d-41ee-8483-486dba9a4a4d)|![ezgif com-video-to-gif (13)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/203f7a15-d8ad-49cf-869c-72dcb25dd9ec)|

|5. 좋아요 & 댓글|6. 검색 기능|
|---|---|
|![ezgif com-video-to-gif (14)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/cf318a4f-4017-4128-83f6-36dbff539ed8)|![ezgif com-video-to-gif (15)](https://github.com/codestates-seb/seb45_main_022/assets/85780501/59bc2f6e-c154-4650-9645-9afa6c005451)|

## ✨ 구현 내용
- db 스키마, 폴더 구조 설계
- jwt + OAuth2 인증 및 인가 구현
- like, comment crud 기능, 게시물 신고기능 구현
- querydsl, redis cache 적용
- redis 활용한 인증 번호 입력 방식의 회원가입 절차 구현

## ✨ 주요 기능
### 1. redis 활용한 인증 번호 입력 방식의 회원 가입 절차 구현
![img.png](readme%20img/certification_process.png)

직접 이메일로 회원가입 하는 경우 인증을 위해
  인증번호 입력 방식의 회원가입 절차를 구현하였습니다.
>1. 사용자는 이메일을 입력한 뒤 인증 버튼을 누르게 되면
>2. 서버에서 무작위 숫자로 구성된 인증번호를 생성하고, 입력한 이메일로 인증번호를 발송합니다.
>3. 서버에선 생성된 인증번호를 value, 이메일을 key값으로 하여 redis에 유효기간을 설정하여 저장합니다.
>4. 사용자가 입력한 인증번호가 맞는 경우 redis에 이메일만 유효기간을 설정하여 저장합니다.
>5. 서버는 redis에 이메일이 유효한지 확인한 뒤 회원가입 절차를 계속합니다.

### 2. 일반 로그인, OAuth2 로그인 인증 절차 구현
![img.png](readme%20img/authentication_process.png)

직접 가입한 유저가 로그인 할 때, OAuth2로 가입한 유저가 로그인 할 때 jwt 토큰을 발급되게 했습니다.
>spring security에서 각각 진행되는 절차가 다르기 때문에<br>
직접 가입한 유저는 authentication filter에서, OAuth2로 가입한 유저는 authentication success handler를 통해<br>
jwt를 발급받아 로그인 절차를 진행하게 하였습니다.<br>
access 토큰은 response로, refresh 토큰은 쿠키에 저장하였고,<br>
access 토큰 만료시 refresh 토큰을 검사하여 유효시 재발급되게 하였습니다.

### 3. 경험치 like 시스템 구현
|||
|---|-|
|![img.png](readme%20img/like_process.png)|![img.png](readme%20img/dislike_process.png)|

like를 받을 때 피드 주인은 해당 스탯의 경험치가 오르게 구현했습니다.
> like를 취소하거나 다시 좋아요를 하더라도 스탯의 경험치에는 관여가 안되게 하기 위해<br>
like table에 deleted 컬럼을 추가하였습니다.<br>
게시글에 처음 like를 하게 된다면, 데이터를 추가하고 취소한다면 deleted 값을 true로 바꿔<br>
게시글 리스트 조회시 보여지게 되는 like count에 집계가 안되도록 하였습니다.<br>

### 4. redis cache 적용

유저가 가장 자주 접근할 것 같은 api에 redis caching을 적용했습니다.
>게시판 종류 별 주간 베스트, 게시판 종류 별 첫 페이지를 redis caching을 적용하여<br>
평균적으로 0.78초가 걸렸던 호출 속도를 0.03초대로 줄일 수 있었습니다.

 ## ✨ 후기

여러 프로젝트를 진행하면서 소통의 중요성은 알고 있었지만, git의 칸반보드나, <br>
pr을 사용한 코드 리뷰 등 체계적인 소통을 처음 진행해 보면서 여태 했던 소통은 정말 말로만 했던 소통 뿐이라고 생각했습니다.<br>
pr에서 팀원의 코드를 리뷰해 피드백을 주거나 팀원에 피드백을 받으면서 다른 사람의 생각을 코드로 볼 수 있었고, 이해 해봤습니다.